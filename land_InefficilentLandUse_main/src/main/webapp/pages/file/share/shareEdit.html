@layout("/common/_form.html",{js:["/assets/easyUploader/easyUploader.jq.js","/assets/file/share/fileShareAdd.js"],css:["/assets/easyUploader/main.css"]}){

<form class="layui-form" id="fileShareForm" lay-filter="fileShareForm">
    <div class="layui-fluid" style="padding-bottom: 75px;">
        <div class="layui-card">
            <div class="layui-card-body">
                <div class="layui-form-item layui-row">
                    <input id="shareId" name="shareId" value="${shareInfo.shareId}" type="hidden"/>
                    <input id="businessKey" name="businessKey" type="hidden" value="${shareInfo.businessKey}"/>
                    <div class="layui-row">
                        <div class="layui-inline layui-col-md12">
                            <label class="layui-form-label">编号<span style="color: red;">*</span></label>
                            <div class="layui-input-block">
                                <input id="shareNo" name="shareNo" value="${shareInfo.shareNo}" type="text" lay-verify="required"
                                       class="layui-input"/>
                            </div>
                        </div>
                        <div class="layui-inline layui-col-md12">
                            <label class="layui-form-label">标题<span style="color: red;">*</span></label>
                            <div class="layui-input-block">
                                <input id="shareTitle" name="shareTitle" value="${shareInfo.shareTitle}" type="text" lay-verify="required"
                                       class="layui-input"/>
                            </div>
                        </div>
                        <div class="layui-inline layui-col-md12">
                            <label class="layui-form-label">类型<span style="color: red;">*</span></label>
                            <div class="layui-input-block">
                                <input id="shareType" name="shareType" value="${shareInfo.shareType}" type="text" lay-verify="required"
                                       class="layui-input"/>
                            </div>
                        </div>
                        <div class="layui-inline layui-col-md12">
                            <label class="layui-form-label">接收人员<span style="color: red;">*</span></label>
                            <div class="layui-input-block">
                                <input id="receiveUser" name="receiveUser" value="${shareInfo.receiveUser}" type="hidden">
                                <input id="receiveUserName" name="receiveUserName" value="${shareInfo.receiveUserName}" type="text"
                                       class="layui-input" lay-verify="required" required autocomplete="off"/>
                            </div>
                        </div>
                    </div>
                    <div class="layui-row">
                        <div class="layui-inline layui-col-md12">
                            <label class="layui-form-label">备注</label>
                            <div class="layui-input-block">
                                <textarea name="remark" class="layui-textarea">${shareInfo.remark}</textarea>
                            </div>
                        </div>
                    </div>
                    <div class="layui-row">
                        <div class="layui-inline layui-col-md12">
                            <div class="layui-input-block">
                                <div class="layui-upload">
                                    <button type="button" class="layui-btn layui-btn-normal" id="testList">选择文件</button>
                                    <div class="layui-upload-list">
                                        <table class="layui-table">
                                            <thead>
                                            <tr><th>文件名</th>
                                                <th>大小</th>
                                                <th>状态</th>
                                                <th>操作</th>
                                            </tr></thead>
                                            <tbody id="demoList">
                                            @if(tool.isNotEmpty(shareInfo.fileInfoList)){
                                            @for(item in shareInfo.fileInfoList){
                                            <tr>
                                                <td style="display:none">${item.fileId}</td>
                                                <td><a href="${ctxPath}/system/downLoadFile?fileId=${item.fileId}" download="${ctxPath}/system/downLoadFile?fileId=${item.fileId}">${item.fileName}</a></td>
                                                <td>${item.fileSizeKb}KB</td>
                                                <td><span style="color: #5FB878;">上传成功</span></td>
                                                <td><button onclick="deleteFile(this,'${item.fileId}')" class="layui-btn layui-btn-xs layui-btn-danger">删除</button></td>
                                            </tr>
                                            @}
                                            @}
                                            </tbody>
                                        </table>
                                    </div>
                                    <button type="button" class="layui-btn" id="testListAction">开始上传</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group-bottom text-center">
        <button class="layui-btn" lay-filter="btnSubmit" lay-submit>&emsp;提交&emsp;</button>
        <button type="reset" class="layui-btn layui-btn-primary" ew-event="closeDialog">&emsp;取消&emsp;</button>
    </div>

</form>

@}