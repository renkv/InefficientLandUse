@layout("/common/_container.html",{js:["/assets/weekwork/main/weekWorkDetail.js"],css:["/assets/expand/module/formSelects/formSelects-v4.css"]}){

<div class="layui-body-header">
    <span class="layui-body-header-title">部门任务进度安排</span>
</div>

<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
            <div class="layui-card">
                <div class="layui-card-body">

                    <div class="layui-row">
                        <div class="layui-col-md4 layui-col-md-offset4" style="text-align: center;width: 500px;">
                            <div class="layui-card-header" style="font-weight:bolder;font-size: 18px;">部门任务进度安排（${main.deptName}）</div>
                        </div>
                    </div>
                    <div class="layui-row">
                        <div class="layui-col-md4" style="text-align: left;">
                            <div class="layui-card-header" id="divbianzhidanwei"></div>
                        </div>
                        <div class="layui-col-md4" style="text-align: center;">
                            <div class="layui-card-header"></div>
                        </div>
                        <div class="layui-col-md4" style="text-align: right;">
                            <div class="layui-card-header">填写日期：${createDate}</div>
                        </div>
                    </div>
                    <table class="layui-table" id="weekWorkIngTable" lay-filter="weekWorkIngTable">
                        <thead>
                        <tr style="background-color:white">
                            <th rowspan="2" style="text-align: center">序号</th>
                            <th rowspan="2" style="text-align: center">任务名称</th>
                            <th rowspan="2" style="text-align: center">项目落实人</th>
                            <th rowspan="2" style="text-align: center">任务下达时间</th>
                            <th rowspan="2" style="text-align: center">计划完成时间</th>
                            <th rowspan="2" style="text-align: center">实际进度</th>
                            <th colspan="3" style="text-align: center">主管领导</th>
                            <th rowspan="2" style="text-align: center">领导批示</th>
                            <!--<th rowspan="2" style="text-align: center">备注</th>-->
                        </tr>
                        <tr style="background-color:white">
                            <th style="text-align: center">签字</th>
                            <th style="text-align: center">督导情况</th>
                            <th style="text-align: center">督导时间</th>
                        </tr>
                        <tr>
                            <th style="text-align: center" colspan="10">进行中项目</th>
                        </tr>
                        </thead>
                        <tbody id="jxTbody">
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "0"){
                        <tr style="background: #99f199">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkStopTable" lay-filter="weekWorkStopTable">
                        <thead>
                        <tr>
                            <th lay-data="{align:'center'}" style="text-align: center" colspan="10">暂停中项目</th>
                        </tr>
                        </thead>
                        <tbody>
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "1"){
                        <tr style="background: #fad400">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkGJTable" lay-filter="weekWorkGJTable">
                        <thead>
                        <tr>
                            <th lay-data="{align:'center'}" style="text-align: center" colspan="11">跟进中项目</th>
                        </tr>
                        </thead>
                        <tbody>
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "2"){
                        <tr style="background: #f1aaf1">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkFinishTable" lay-filter="weekWorkFinishTable">
                        <thead>
                        <tr>
                            <th lay-data="{align:'center'}" style="text-align: center" colspan="11">已完成项目</th>
                        </tr>
                        </thead>
                        <tbody>
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "3"){
                        <tr style="background: #f46161">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkJHGJTable" lay-filter="weekWorkJHGJTable">
                        <thead>
                        <tr>
                            <th lay-data="{align:'center'}" style="text-align: center" colspan="11">计划跟进中项目</th>
                        </tr>
                        </thead>
                        <tbody>
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "4"){
                        <tr style="background: #1e9fff">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkPXTable" lay-filter="weekWorkPXTable">
                        <thead>
                        <tr>
                            <th lay-data="{align:'center'}" style="text-align: center" colspan="11">培训</th>
                        </tr>
                        </thead>
                        <tbody>
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "5"){
                        <tr style="background: #999999">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkHYTable" lay-filter="weekWorkHYTable">
                        <thead>
                        <tr>
                            <th lay-data="{align:'center'}" style="text-align: center" colspan="11">会议</th>
                        </tr>
                        </thead>
                        <tbody>
                        @if(tool.isNotEmpty(detailList)){
                        @for(item in detailList){
                        @if(item.status == "6"){
                        <tr style="background: #00ced1">
                            <td style="display: none" id="id">${item.id}</td>
                            <td align="center" style="width: 50px;">${item.serialNo}</td>
                            <td align="center" style="width: 120px;">${item.taskName}</td>
                            <td align="center" style="width: 120px;">${item.implementUser}</td>
                            <td align="center" style="width: 120px;">${item.assignTime}</td>
                            <td align="center" style="width: 120px;">${item.planFinishTime}</td>
                            <td align="center" style="width: 120px;">${item.actualProgress}</td>
                            <td align="center" style="width: 100px;">${item.leader}</td>
                            <td align="center" style="width: 150px;">${item.supervision}</td>
                            <td align="center" style="width: 120px;">${item.superviseTime}</td>
                            @if(tool.isNotEmpty(isHead)){
                            <td align="center" style="width: 120px;"><textarea class="layui-textarea" id="instruction" name="instruction">${item.instruction}</textarea></td>
                            @}else{
                            <td align="center" style="width: 120px;">${item.instruction}</td>
                            @}
                            <!--<td align="center" style="width: 150px;">${item.remark}</td>-->
                        </tr>
                        @}
                        @}
                        @}
                        </tbody>
                    </table>
                    <table class="layui-table" id="weekWorkRemarkTable" lay-filter="weekWorkRemarkTable">
                        <tbody>
                        <tr>
                            <td lay-data="{align:'center'}" style="text-align: center" colspan="11"><input type="text" class="layui-textarea" value="${main.remark}" name="remark"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
@}